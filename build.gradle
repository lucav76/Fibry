plugins {
    id 'java-library'
    id 'maven-publish'
    id 'signing'
    id 'net.researchgate.release' version '2.6.0'
}

apply plugin: 'maven'
group 'eu.lucaventuri'
version version

sourceCompatibility = 11
targetCompatibility = 11

repositories {
    mavenCentral()
}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.12'
    testCompile 'org.reactivestreams:reactive-streams-tck-flow:1.0.3'
    testCompile group: 'org.testng', name: 'testng', version: '6.14.3'
}

apply from: 'publish.gradle'

task testNG(type: Test) { useTestNG() }
test.dependsOn testNG


task createPom {
    doLast {
        pom {
            project {
                groupId group
                artifactId rootProject.name
                version version

                inceptionYear '2019'
                licenses {
                    license {
                        name = 'MIT License'
                        url = 'https://github.com/lucav76/Fibry/blob/master/LICENSE'
                        distribution 'repo'
                    }
                }
            }
        }.writeTo("pom.xml")
    }
}